<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Romi32U4 library: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Romi32U4 library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# wpi-32u4-library</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Version: 2.1.0&lt;br/&gt;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Release date: 2020-09-06&lt;br/&gt;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Forked from [www.pololu.com](https://www.pololu.com/)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;## Summary</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;This is a C++ library for the Arduino IDE that helps access the on-board hardware of the [Romi 32U4 Control Board](https://www.pololu.com/product/3544).</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;The Romi 32U4 Control Board turns the Romi chassis into a programmable, Arduino-compatible robot.  It has an integrated AVR ATmega32U4 microcontroller, motor drivers, encoders, buzzer, buttons, and an LSM6DS33 accelerometer and gyro.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;This library includes code for accessing the LSM6DS33, forked from the separate [LSM6 library](https://github.com/pololu/lsm6-arduino).</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;## Installing the library (platformio)</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;Add the following lines to your platformio.ini file:</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;~~~{.cpp}</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;lib_deps = </div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;     Wire</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;     wpiroboticsengineering/wpi-32u4-library @ 2.1.0</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;~~~</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;You&#39;re done.</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;(You may or may not need to add Wire -- it can&#39;t hurt if you do.)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;For later releases, change the last value appropriately.</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;## Installing the library (Arduino)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;If you are using version 1.6.2 or later of the [Arduino software (IDE)](http://www.arduino.cc/en/Main/Software), you can use the Library Manager to install this library:</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;1. In the Arduino IDE, open the &quot;Sketch&quot; menu, select &quot;Include Library&quot;, then &quot;Manage Libraries...&quot;.</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;2. Search for &quot;wpi-32u4-library&quot;.</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;3. Click the entry in the list.</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;4. Click &quot;Install&quot;.</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;If this does not work, you can manually install the library:</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;1. Download the latest release from this page and decompress it.</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;2. Rename the folder &quot;wpi-32u4-library&quot;, if needed</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;3. Move the &quot;wpi-32u4-library&quot; folder into the &quot;libraries&quot; directory inside your Arduino sketchbook directory. You can view your sketchbook location by opening the &quot;File&quot; menu and selecting &quot;Preferences&quot; in the Arduino IDE.  If there is not already a &quot;libraries&quot; folder in that location, you should make the folder yourself.</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;4. After installing the library, restart the Arduino IDE.</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;## Examples (platformio)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;Accessing exmaples in platformio is a little trickier than Arduino. Because platformio grabs libraries dynamically, by default, you don&#39;t install the libraries in a static directory on your machine. None of these options are great, but you have a few:</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; * Copy-paste from the dynamic library. Start a new project with a skeleton main.cpp. Include the library as describe above in Installing the Library. Build the skeleton project. Within your project tree, navigate to .pio/lib_deps/examples and copy-paste the relevant example into your main.cpp. You can have multiple projects (folders) in a single workspace, which might make accessing additional libraries easier.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; * Clone the repo to your machine. Be sure to clone the latest release, otherwise you will get a dev version. It is still better to reference the library dynamically in your platformio.ini file (see above under Installing the Library).</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; * Copy-paste from the github repo. A little dangerous, since you might get an example that relies on later commits.</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; * Install the library (say, using Arduino) and then use the &quot;Import Arduino Project &quot; option in platformio. Do *not* check the &quot;Use libraries installed by Arduino&quot; option.</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;## Examples (Arduino)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;Several example sketches are available that show how to use the library. You can access them from the Arduino IDE by opening the &quot;File&quot; menu, selecting &quot;Examples&quot;, and then selecting &quot;wpi-32u4-library&quot;. If you cannot find these examples, the library was probably installed incorrectly and you should retry the installation instructions above.</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;### Not all examples have been converted to the wpi version of the library. At the moment we&#39;ve updated the following:</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;* MotorTest</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;* Encoders</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;* IMU</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;* RotationResist (this one is fun!)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;* RemoteControl will compile, but has not been tested</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;* Buttons</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;* Blink will likely run, but is untested</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;## Classes and functions</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;The main classes and functions provided by the library are listed below:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;* Romi32U4ButtonA</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;* Romi32U4ButtonB</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;* Romi32U4ButtonC</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;* ~~Romi32U4Buzzer~~</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;* Romi32U4Encoders</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;* ~~Romi32U4LCD~~</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;* Romi32U4Motors</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;* ledRed()</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;* ledGreen()</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;* ledYellow()</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;* usbPowerPresent()</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;* readBatteryMillivolts()</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;## Component libraries</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;This library also includes copies of several other Arduino libraries inside it which are used to help implement the classes and functions above.</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;* [FastGPIO](https://github.com/pololu/fastgpio-arduino)</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;* ~~[PololuBuzzer]~~(https://github.com/pololu/pololu-buzzer-arduino)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;* ~~[PololuHD44780]~~(https://github.com/pololu/pololu-hd44780-arduino)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;* [Pushbutton](https://github.com/pololu/pushbutton-arduino)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;* [QTRSensors](https://github.com/pololu/qtr-sensors-arduino)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;* [USBPause](https://github.com/pololu/usb-pause-arduino)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;You can use these libraries in your sketch automatically without any extra installation steps and without needing to add any extra `#include` lines to your sketch.</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;You should avoid adding extra `#include` lines such as `#include &lt;Pushbutton.h&gt;` because then the Arduino IDE might try to use the standalone Pushbutton library (if you previously installed it), and it would conflict with the copy of the Pushbutton code included in this library. The only `#include` line needed to access all features of this library are:</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;~~~{.cpp}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;#include &lt;Romi32U4.h&gt;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;~~~</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;## Documentation</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;Pololu has documenation for their version library at https://pololu.github.io/wpi-32u4-library. We are working on updating documentation for the changes to the library from the forked Pololu library. The biggest change is to the motor class, where</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;~~~{.cpp}</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;Romi32U4Motors::setSpeeds()</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;~~~</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;has been changed to </div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;~~~{.cpp}</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;Romi32U4Motors::setEfforts()</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;~~~</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;since that better represents the behavior of that function.</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;Some other library files (LCD, buzzer) have been removed, since they conflict with some of the changes in the background (mostly to timers).</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;## Version history</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;* 2.1.0 (2020-09-06): Primary release for WPI courses.</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;* 1.0.2 (2017-07-17): Fixed a bug that caused errors for the right encoder to be reported as errors for the left encoder.</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;* 1.0.1 (2017-02-23):</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  * Changed the internal `Romi32U4Motors::maxSpeed` variable to be an `int16_t` so it can be compared to other `int16_t` variables without warnings.</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  * Fixed the InterialSensors and Demo examples to not use a compass.</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  * Fixed some comments.</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;* 1.0.0 (2017-02-06): Original release.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
